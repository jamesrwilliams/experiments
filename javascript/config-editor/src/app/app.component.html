<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="#">James R. Williams</a>
  <form [formGroup]="inputFiles" class="form-inline">
    <input class="form-control mr-sm-2" type="file" (change)="onFileChange($event)" placeholder="Search" aria-label="Search">
  </form>
</nav>
<div class="jumbotron">
  <h1 class="display-4">Bulk Change JSON Properties</h1>
  <p class="lead">When you paste in a valid key the resulting copy appears in the preview.</p>
</div>
<div class="container-fluid">
  <strong>Examples:</strong>
  <ul>
    <li><code>iframe.translations.en-US.terms.content</code></li>
    <li><code>example.spoons.value.en-US.sod.reason</code></li>
  </ul>

  <div class="row">
    <div class="col">
      <h2>Original</h2>
      <textarea class="form-control text-monospace text-small" cols="30" rows="10" readonly>{{ config | json }}</textarea>
    </div>
    <div class="col">
      <h2>Output</h2>
      <textarea class="form-control text-monospace text-small" cols="30" rows="10" readonly>{{ output | json }}</textarea>
    </div>
  </div>
<form [formGroup]="nodeList">
  <table id="jsonTable" class="table table-sm">
    <thead>
      <tr>
        <th>&nbsp;</th>
        <th>Key</th>
        <th>Current Value</th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody class="table-hover" formArrayName="nodes" *ngFor="let node of nodeList.get('nodes').controls; let i = index">
      <tr [formGroupName]="i">
        <td>
          #{{ i + 1 }}
        </td>
        <td>
          <div class="form-group">
            <input type="text" id="key" (change)="getPreview(node, i)" class="form-control text-monospace" formControlName="key" placeholder="Key" />
          </div>
        </td>
        <td>
          <div class="form-group">
            <textarea class="form-control text-small text-monospace" formControlName="current" readonly id="currentValue"></textarea>
        </div>
          <div class="form-group">
            <textarea class="form-control text-small text-monospace" type="text" id="value" formControlName="value" placeholder="Value"></textarea>
          </div>
        </td>
        <td>
          <button class="btn btn-sm btn-danger" (click)="removeNode(i)">Remove</button>
        </td>
      </tr>
    </tbody>
  </table>

  <button class="btn btn-primary" (click)="addNode()">Add Node</button>
  <button class="btn btn-primary" type="submit" (click)="processNewJSON()" [disabled]="!nodeList.valid">Submit</button>
</form>


</div>







